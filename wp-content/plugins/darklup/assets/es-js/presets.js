(()=>{let r=[],e=[],i=!1;"yes"==DarklupJs.apply_bg_overlay&&(i=!0),r=[...DarklupJs.exclude_element],e=[...DarklupJs.exclude_bg_overlay];class t{constructor(){this.t(),this.i(),this.l(),this.o(),this.h?this.p():this.u(),this.g.style.display="block"}t(){this.k=[],this.m=[],this.D=[],this.S=[],this.M=[],this.O=[],this.v=[],this.C=[],this.B=[],this.A=[],this.j=[],this.J=[],this.$=[],this.h=!1,this.T=0,this.g=document.querySelector("html"),this.I=document.querySelector(".switch-trigger"),this.L=document.querySelectorAll(".switch-trigger"),this.F=".switch-trigger",this.W=document.querySelector(".darklup-mode-switcher"),this.H=document.querySelector("#wp-admin-bar-darklup-admin-switch"),this.P=document.querySelector(".darklup-menu-switch"),this.R=[this.W,this.H,this.P],this.K=this.W?.querySelector(".switch-trigger"),this.G=this.H?.querySelector(".switch-trigger"),this.V=this.P?.querySelector(".switch-trigger"),this.q=[this.K,this.G,this.V],this.N="darklup-dark-mode-enabled",this.U="darklup-admin-dark-mode-enabled";let e=document.querySelector("body");e.classList.contains("wp-admin")&&(this.h=!0),this.X=this.Y(e);let t=this.Z(e),r=this.Z(this.g);t?this._=t:r?this._=r:(this._="rgb(255, 255, 255)",e.classList.add("darklup--bg"))}i(){let e,t;e=["head","meta","link","title","style","script",".darklup-mode-switcher",".darklup-mode-switcher *",".darklup-menu-switch",".darklup-menu-switch *",".darklup-switch-preview-inner",".darklup-switch-preview-inner *",".darklup-admin-settings-area .on-off-toggle",".darklup-admin-settings-area .on-off-toggle *",".wp-core-ui .darklup-section-title .button",".darklup-pro-ribbon","#adminmenuwrap","#adminmenuwrap *",".wpc-color-picker--input",".wpc-color-picker--input *",".darklup-single-popup-wrapper .darklup-single-popup",".darklup-main-area .darklup-menu-area ul li a",".darklup-dark-ignore",".darklup-switch-container",".darklup-switch-container *","video","mark","code","pre","ins","option","progress","iframe",".mejs-iframe-overlay","svg *","path","canvas","#wpadminbar","#wpadminbar *","#wpadminbar a","noscript"],r.length>0&&(e=[...r,...e]),t=this.ee(e,"html, html *"),this.k=document.querySelectorAll(t)}o(){for(let t of this.k){let e=t.tagName?.toLowerCase();if("a"==e){this.Z(t)||t.classList.add("darklup--link")}else"button"==e?t.classList.add("darklup--btn"):"img"==e?t.classList.add("darklup--img"):"svg"==e?t.classList.add("darklup--inline-svg"):"input"==e||"textarea"==e||"select"==e?t.classList.add("darklup--input"):"del"==e?t.classList.add("darklup--text"):(t.classList.add("wpc--darklup-element"),this.te(t));this.re(t)}}ie(e){console.log(e),e.length>0&&e.forEach(e=>{document.querySelector(e)?.classList.add("darklup-dark-ignore")})}ae(e){e.length>0&&e.forEach(e=>{if(!e.includes("*")){console.log(e);let t=document.querySelector(e);if(t){if(!this.Z(t)){let e=this.de(t);console.log(e),t.dataset.le=e}t.classList.add("darklup-dark-ignore")}}})}se(){document.querySelectorAll(".darklup-dark-ignore").forEach(e=>{e.style.backgroundColor=e.dataset.le})}ne(){}p(){this.oe(),this.he(),this.pe()}u(){"undefined"==typeof darklupPageExcluded&&(this.ue(),this.ge(),this.ce(),this.ke(),this.pe(),this.be())}oe(){this.me()&&this.fe(),this.B.forEach(e=>{this.we(e)})}ue(){this.De()&&this.ye(),this.B.forEach(e=>{this.we(e)})}De(){let e=!1,t=localStorage.getItem("lightOnDefaultDarkMode"),r=localStorage.getItem("lightOnOSDarkChecked"),i=localStorage.getItem("lightOnTimeBasedDarkMode"),a=!1;"undefined"!=typeof isDefaultDarkModeEnabled&&(a=isDefaultDarkModeEnabled);let d=!1;return"undefined"!=typeof isOSDarkModeEnabled&&(d=isOSDarkModeEnabled),(this.Se()||a&&!t||d&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&!r||this.Me()&&!i)&&(e=!0),e}Oe(){let e=new Date,t=e.getHours(),r=e.getMinutes();return t<10&&(t="0"+t),r<10&&(r="0"+r),t+":"+r}Me(){let i=!1;if("yes"==frontendObject.time_based_mode_active){let e=this.ve(frontendObject.time_based_mode_start_time),t=this.ve(frontendObject.time_based_mode_end_time),r=new Date;r=Date.parse(r)/1e3,e=Date.parse(e)/1e3,t=Date.parse(t)/1e3,e>t&&(r<=t&&(i=!0),t+=86400),r>=e&&r<=t&&(i=!0)}return i}ve(e){var t=e.split(":"),r=parseInt(t[0]),i=parseInt(t[1]),a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate(),r,i)}he(){this.R.forEach(e=>{e?.addEventListener("click",e=>{if(e.target.classList.contains("switch-trigger")){e.target.checked?this.Ce():this.Ee()}})})}ge(){this.R.forEach(e=>{e?.addEventListener("click",t=>{if(t.target.classList.contains("switch-trigger")){let e=t.target;e.checked?(this.Be(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&localStorage.removeItem("lightOnOSDarkChecked"),this.W.contains(e)?this.V&&(this.V.checked=!0):this.K&&(this.K.checked=!0)):(this.xe(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&localStorage.setItem("lightOnOSDarkChecked",!0),isDefaultDarkModeEnabled&&localStorage.setItem("lightOnDefaultDarkMode",!0),frontendObject.time_based_mode_active&&localStorage.setItem("lightOnTimeBasedDarkMode",!0),this.W.contains(e)?this.V&&(this.V.checked=!1):this.K&&(this.K.checked=!1))}})})}ce(){const e=document.querySelector(".switch-font-trigger");e?.addEventListener("click",()=>{this.g.classList.toggle("darklup-font-mode-enabled")})}be(){if("undefined"!=typeof isOSDarkModeEnabled&&isOSDarkModeEnabled){let t=localStorage.getItem("lightOnOSDarkChecked");window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{"dark"===(e.matches?"dark":"light")?t||this.ye():this.Ae()})}}ke(){if("undefined"!=typeof isKeyShortDarkModeEnabled&&isKeyShortDarkModeEnabled){let t=!1;document.addEventListener("keydown",e=>{17===e.which&&(t=!0)}),document.addEventListener("keyup",e=>{17===e.which&&(t=!1)}),document.addEventListener("keydown",e=>{if(t&&e.altKey&&68===e.which){this.Se()?this.xe():this.Be()}})}}Be(){this.je(),this.ye()}xe(){this.Je(),this.Ae()}Ce(){this.$e(),this.fe()}Ee(){this.Te(),this.Ie()}je(){localStorage.setItem("darklupModeEnabled",this.N),localStorage.setItem("triggerChecked","checked")}Je(){localStorage.removeItem("darklupModeEnabled"),localStorage.removeItem("triggerChecked")}$e(){localStorage.setItem("adminDarklupModeEnabled",this.N),localStorage.setItem("adminTriggerChecked","checked")}Te(){localStorage.removeItem("adminDarklupModeEnabled"),localStorage.removeItem("adminTriggerChecked")}Le(e){const t=frontendObject.sitelogo,r=t.light,i=t.dark;if(e){const e=document.querySelector('[src="'+r+'"]');e.src=i,e.srcset=i,frontendObject.darkimages.forEach(function(e){const t=document.querySelector('[src="'+e[0]+'"]');t.src=e[1],t.srcset=e[1]})}else{const e=document.querySelector('[src="'+i+'"]');e.src=r,e.srcset=r,frontendObject.darkimages.forEach(function(e){const t=document.querySelector('[src="'+e[1]+'"]');t.src=e[0],t.srcset=e[0]})}}Fe(){if("undefined"==typeof frontendObject)return;const e=frontendObject.sitelogo,t=e.light,r=e.dark,i=document.querySelector('[src="'+r+'"]');i&&(i.src=t,i.srcset=t),frontendObject.darkimages.forEach(function(e){const t=document.querySelector('[src="'+e[1]+'"]');t&&(t.src=e[0],t.srcset=e[0])})}We(){if("undefined"==typeof frontendObject)return;const e=frontendObject.sitelogo,t=e.light,r=e.dark,i=document.querySelector('[src="'+t+'"]');i&&(i.src=r,i.srcset=r),frontendObject.darkimages?.forEach(function(e){const t=document.querySelector('[src="'+e[0]+'"]');t&&(t.src=e[1],t.srcset=e[1])})}ye(){this.g.classList.add(this.N),this.He(),this.q.forEach(e=>{e&&(e.checked=!0)})}Ae(){this.g.classList.remove(this.N),this.Pe(),this.q.forEach(e=>{e&&(e.checked=!1)})}fe(){this.g.classList.add(this.U),this.He(),this.q.forEach(e=>{e&&(e.checked=!0)});let e=document.querySelectorAll(".admin-dark-icon"),t=document.querySelectorAll(".admin-light-icon");e.forEach(e=>{e.style.display="block"}),t.forEach(e=>{e.style.display="none"})}Ie(){this.g.classList.remove(this.U),this.Pe(),this.q.forEach(e=>{e&&(e.checked=!1)});let e=document.querySelectorAll(".admin-dark-icon"),t=document.querySelectorAll(".admin-light-icon");e.forEach(e=>{e.style.display="none"}),t.forEach(e=>{e.style.display="block"})}Re(){if(this.h){this.me()?this.He():this.Pe()}else{this.Se()?this.He():this.Pe()}}Ke(){document.addEventListener("DOMContentLoaded",function(){})}pe(){window.addEventListener("load",()=>{this.Ge()})}Ve(){let e=document.querySelector("body");e.classList.contains("wp-admin")&&(this.h=!0),this.X=this.Y(e);let t=this.Z(e),r=this.Z(this.g);t?this._=t:r?this._=r:(this._="rgb(255, 255, 255)",e.classList.add("darklup--bg"))}te(t){let e,r;e=this.qe(t),e&&this.j.push(t),r=this.Z(t),r&&(this.Ne(t)?(this.J.push(t),t.classList.add("darklup--alpha-bg")):this.B.push(t)),this.Ue(t)&&(this.C.push(t),t.classList.add("darklup--text"));["after","before"].forEach(e=>{"none"!==window.getComputedStyle(t,`:${e}`).content&&t.classList.add(`darklup--text-${e}`)}),this.ze(t)&&(this.A.push(t),t.classList.add("darklup--border"))}re(e){if("none"!==getComputedStyle(e).boxShadow){this.$.push(e),e.classList.add("wpc--darklup-box-shadow"),this.Z(e)||e.classList.add("wpc--darklup-non-bg-box-shadow")}}Qe(e){let t=getComputedStyle(e).boxShadow,r=this.Xe(t);r&&(e.dataset.Ye=t,e.style.setProperty("box-shadow",r,"important"))}Ze(){if(isOSDarkModeEnabled){localStorage.getItem("WpcFrontEndSwitcherClicked")||window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{"dark"===(e.matches?"dark":"light")?this.He():this.Pe()})}}_e(e){let t=e.tagName?.toLowerCase();"a"==t?e.classList.add("darklup--link"):"button"==t?e.classList.add("darklup--btn"):"img"==t?e.classList.add("darklup--img"):"svg"==t?e.classList.add("darklup--inline-svg"):"input"==t||"textarea"==t||"select"==t?e.classList.add("darklup--input"):"del"==t?e.classList.add("darklup--text"):(this.Ue(e)&&e.classList.add("darklup--text"),e.classList.add("wpc--darklup--observed"))}et(e){let t=0,r=e.getBoundingClientRect();return r&&(t=r.width*r.height),t}tt(){if(this.h){this.me()&&this.q.forEach(e=>{e&&(e.checked=!0)})}else this.De()&&this.q.forEach(e=>{e&&(e.checked=!0)})}Y(e){this.g.style.display="block";let t=0,r=e?.getBoundingClientRect();return r&&(t=r.width),this.g.style.display="none",t}rt(e){let t="primary";const r=e.closest(".darklup--bg-applied");return r&&(r.classList.contains("darklup--bg")?t="primary":r.classList.contains("darklup--secondary-bg")?t="secondary":r.classList.contains("darklup--tertiary-bg")&&(t="tertiary")),t}de(e){let t=e.parentNode,r=!1;for(;t;){let e=this.Z(t);if(e){r=e;break}t=t.parentNode}return r}it(e){let t=!1,r=e.closest(".darklup--bg-applied");return r&&r.classList.contains("darklup--tertiary-bg")&&(t=!0),t}ze(e){let t,r,i,a,d=window.getComputedStyle(e);return t=parseFloat(d.getPropertyValue("border-top-width")),r=parseFloat(d.getPropertyValue("border-right-width")),i=parseFloat(d.getPropertyValue("border-bottom-width")),a=parseFloat(d.getPropertyValue("border-left-width")),t>0||r>0||i>0||a>0}Z(e){let t=window.getComputedStyle(e).getPropertyValue("background-color");if("rgba(0, 0, 0, 0)"!==t&&"transparent"!==t&&"inherit"!==t){if(t.includes("rgba")){let e;if(e=this.dt(t),e&&0==e)return!1}return t}return!1}Ue(e){let t;return t=e.childNodes[0]?.nodeValue?.trim(),t||(t=e.childNodes[e.childNodes.length-1]?.nodeValue?.trim()),""!==t&&void 0!==t&&"inherit"!==t}dt(e){let t=!1,r=e.match(/rgba?\((\d{1,3}), (\d{1,3}), (\d{1,3}),? ?([\d\.]*)?\)/);return r&&(t=!!r[4]&&r[4]),t}Ne(e){let t=window.getComputedStyle(e).getPropertyValue("background-color").match(/rgba?\((\d{1,3}), (\d{1,3}), (\d{1,3}),? ?([\d\.]*)?\)/),r=!1;return t&&(r=!!t[4]&&parseFloat(t[4])),r}lt(e){let t=this.Y(e),r=this.Z(e);if(r){this.Ne(e)?e.classList.add("darklup--alpha-bg"):t==this.X?(r==this._?e.classList.add("darklup--bg"):e.classList.add("darklup--secondary-bg"),e.classList.add("darklup--bg-applied")):this.X>t&&t>0?(this.it(e)?e.classList.add("darklup--secondary-bg"):e.classList.add("darklup--tertiary-bg"),e.classList.add("darklup--bg-applied")):(e.classList.add("darklup--bg"),e.classList.add("darklup--bg-applied"))}}st(e){return window.getComputedStyle(e).getPropertyValue("background-color")}nt(t){let e=this.Y(t),r=this.Z(t);if(r){if(this.Ne(t))t.classList.add("darklup--alpha-bg");else if(e==this.X){let e=!1;t!==document.body&&document.body.contains(t)&&(e=t.previousElementSibling),e?e.classList.contains("darklup--bg")?t.classList.add("darklup--secondary-bg"):e.classList.contains("darklup--secondary-bg")||r==this._?t.classList.add("darklup--bg"):t.classList.add("darklup--secondary-bg"):r==this._?t.classList.add("darklup--bg"):t.classList.add("darklup--secondary-bg"),t.classList.add("darklup--bg-applied")}else if(this.X>e&&e>0){let e=this.rt(t);"primary"==e||"secondary"==e?t.classList.add("darklup--tertiary-bg"):t.classList.add("darklup--bg"),t.classList.add("darklup--bg-applied")}else t.classList.add("darklup--bg"),t.classList.add("darklup--bg-applied")}}ot(t){let e=this.Y(t),r=this.Z(t);if(r){if(this.Ne(t))t.classList.add("darklup--alpha-bg");else if(e==this.X)r==this._?t.classList.add("darklup--bg"):t.classList.add("darklup--secondary-bg"),t.classList.add("darklup--bg-applied");else if(this.X>e&&e>0){if(r==this._)t.classList.add("darklup--bg");else{let e=this.rt(t);"primary"==e||"secondary"==e?t.classList.add("darklup--tertiary-bg"):t.classList.add("darklup--bg")}t.classList.add("darklup--bg-applied")}else t.classList.add("darklup--bg-applied"),t.classList.add("darklup--tertiary-bg")}}we(t){let e=this.Y(t),r=this.Z(t);if(r){if(this.Ne(t))t.classList.add("darklup--alpha-bg");else if(e==this.X)r==this._?t.classList.add("darklup--bg"):t.classList.add("darklup--secondary-bg"),t.classList.add("darklup--bg-applied");else if(this.X>e&&e>0){let e=this.rt(t);"primary"==e||"secondary"==e?t.classList.add("darklup--tertiary-bg"):t.classList.add("darklup--bg"),t.classList.add("darklup--bg-applied")}else t.classList.add("darklup--bg-applied"),t.classList.add("darklup--tertiary-bg")}}ht(i){let a=this.Ne(i);if(a){let e=DarklupJs.secondary_bg,t=window.getComputedStyle(i).getPropertyValue("background-color");i.dataset.ut=t;let r=e.replace(")",`, ${a})`).replace("rgb","rgba");i.style.backgroundColor=r}}qe(e){let t=getComputedStyle(e).backgroundImage;return!("none"===t||!t.includes("linear-gradient")&&!t.includes("url"))&&t}gt(t){let r=this.qe(t);if(r){if(r.includes("linear-gradient")&&r.includes("url"))t.classList.add("darklup-bg-gradient--image");else if(r.includes("url")){if(t.classList.add("darklup-bg--image"),!this.ct(t)&&i){let e=`${`linear-gradient(rgba(0, 0, 0, ${DarklupJs.bg_image_dark_opacity}), rgba(0, 0, 0,${DarklupJs.bg_image_dark_opacity}))`}, ${r}`;t.style.setProperty("background-image",e)}this.kt(t)}else r.includes("linear-gradient")&&(t.classList.add("darklup-bg-gradient"),this.bt(t),this.kt(t));t.dataset.ft=r}}l(){e.length>0&&e.forEach(e=>{let t=document.querySelectorAll(e);this.O=[...t,...this.O]})}wt(t){let r=this.qe(t);if(r){if(r.includes("linear-gradient")&&r.includes("url"))this.bt(t,r),t.classList.add("darklup-bg-gradient--image");else if(r.includes("url")){if(t.classList.add("darklup-bg--image"),!this.ct(t))if(this.O.includes(t));else if(i){let e=`${`linear-gradient(rgba(0, 0, 0, ${DarklupJs.bg_image_dark_opacity}), rgba(0, 0, 0,${DarklupJs.bg_image_dark_opacity}))`}, ${r}`;t.style.setProperty("background-image",e)}this.kt(t)}else r.includes("linear-gradient")&&(t.classList.add("darklup-bg-gradient"),this.bt(t,r),this.kt(t));t.dataset.ft=r}}ct(e){let r=!1;e.classList.contains("darklup-under-darken-bg")&&(r=!0);let i=e.querySelector(":scope > .elementor-background-overlay");if(i){let e=this.qe(i),t=this.Z(i);(e||t)&&(r=!0)}return r}Xe(a){let e=[DarklupJs.primary_bg,DarklupJs.secondary_bg,DarklupJs.tertiary_bg],d="";const l=a.match(/rgba?\((\s*\d{1,3}\s*,){2}\s*\d{1,3}\s*(,\s*[0-9\.]+)?\)/g);return e.forEach((r,i)=>{if(l[i])if(r.includes("rgba"))l[i]&&(d=a?.replace(l[i],r),a=d);else if(r.includes("rgb")&&l[i].includes("rgb")&&!l[i].includes("rgba"))l[i]&&(d=a?.replace(l[i],r),a=d);else if(r.includes("rgb")&&l[i].includes("rgba")){let e=l[i].lastIndexOf(","),t=l[i].slice(e);r=r.replace("rgb(","rgba(").replace(")",t),d=a?.replace(l[i],r),a=d}}),d}bt(t){let d=getComputedStyle(t).getPropertyValue("background-image");if("none"!==d&&d.includes("linear-gradient")){let a,e=[DarklupJs.primary_bg,DarklupJs.secondary_bg];a=`linear-gradient(${DarklupJs.primary_bg}, ${DarklupJs.secondary_bg})`;const r=/rgba?\((\s*\d{1,3}\s*,){2}\s*\d{1,3}\s*(,\s*[0-9\.]+)?\)/g,l=d.match(r);e.forEach((r,i)=>{if(r.includes("rgba"))l[i]&&(a=d?.replace(l[i],r),d=a);else if(r.includes("rgb")&&l[i].includes("rgb")&&!l[i].includes("rgba"))l[i]&&(a=d?.replace(l[i],r),d=a);else if(r.includes("rgb")&&l[i].includes("rgba")){let e=l[i].lastIndexOf(","),t=l[i].slice(e);r=r.replace("rgb(","rgba(").replace(")",t),a=d?.replace(l[i],r),d=a}}),l&&a&&(t.style.backgroundImage=a)}}kt(e){let t=e.querySelectorAll("*");t&&t.forEach(e=>{e.classList.add("darklup-under-darken-bg")})}Dt(e){e.style.backgroundImage=e.dataset.ft}yt(e){e.style.backgroundColor=e.dataset.ut}St(e){e.style.boxShadow=e.dataset.Ye}ee(e=[],t="html *"){return e.forEach(function(e){t+=`:not(${e})`}),t}Se(){let e=localStorage.getItem("darklupModeEnabled"),t=localStorage.getItem("triggerChecked");return!(!e||!t)}me(){let e=localStorage.getItem("adminDarklupModeEnabled"),t=localStorage.getItem("adminTriggerChecked");return!(!e||!t)}He(){this.j?.forEach(e=>this.wt(e)),this.J?.forEach(e=>this.ht(e)),this.$?.forEach(e=>this.Qe(e)),this.We(),this.se()}Pe(){this.j?.forEach(e=>this.Dt(e)),this.J?.forEach(e=>this.yt(e)),this.$?.forEach(e=>this.St(e)),this.Fe()}Ge(){const e=document.querySelector("body");new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{if(!(e instanceof HTMLElement))return;e.classList?.add("wpc-darklup-observer--node"),this._e(e);e.querySelectorAll("*").forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&this._e(e)})})})}).observe(e.parentNode,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}}document.addEventListener("DOMContentLoaded",function(){new t}),window.addEventListener("load",function(){})})();